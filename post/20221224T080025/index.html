<!DOCTYPE html>
<html>
<head>
<title>Goldendict 词典客户端 - 手指骑士的病房</title>
<link rel="icon" href="/static/favicon.ico"><meta content="text/html;charset=utf-8" http-equiv="Content-Type"><meta content="utf-8" http-equiv="encoding"><link href= "/static/style/style.css" rel="stylesheet" type="text/css" /></head>
<body>
<div id="header">
<div class="home-page">
<a href="/">手指骑士的病房</a></div><div class="nav">
<div class="nav item">
<a href="/tags">标签</a>
</div>
<div class="nav item">
<a href="/archive">归档</a>
</div>
<div class="nav item">
<a href="/about">关于</a>
</div>
<div class="nav item">
<a href="/emacs">Emacs</a>
</div>
</div>
</div>
<div id="main">
<div id="toc">
<h2 class="toc-title"> TOC </h2>
<nav id="TableOfContents">

<ul>
<li>
<a href="#orgcc7132b"> 简介 </a></li>
<li>
<a href="#org26c9343"> 安装 </a></li>
<li>
<a href="#orgf67137e"> 词典管理 </a></li>
<li>
<a href="#org49930b1"> 离线词典 </a></li>
<li>
<a href="#orgede4a25"> 在线词典 </a></li>
<li>
<a href="#org5de46e8"> 构词法 </a></li>
<li>
<a href="#org7c2e5bf"> 取词 </a></li>
<li>
<a href="#orge0a1646"> 翻译 </a></li>
<li>
<a href="#org356a38d"> 程序 </a></li>
<li>
<a href="#org3739f7a"> 发音 </a></li>
<li>
<a href="#org7e38830"> 遇到的问题 </a></li>
</ul>
</nav>
</div>
<div id="page">
<div id="preamble" class="status"><link rel="stylesheet" href="/static/pygments/dracula.css"><h1 class="post-title"> Goldendict 词典客户端 </h1>
<div class="post-date">2023-12-30</div>
<div class="taglist"><a href="/tag/archlinux"> #archlinux </a>
<a href="/tag/dictionary"> #dictionary </a>
<a href="/tag/goldendict"> #goldendict </a>
<a href="/tag/language"> #language </a>
</div>
</div>
<div id="content">

<div id="outline-container-orgcc7132b" class="outline-2">
<h2 id="orgcc7132b">简介</h2>
<div class="outline-text-2" id="text-orgcc7132b">
<p>
Goldendict 一个开源的、可定制的词典，跨平台，支持一个词典所必需的功能：取词翻译、整句翻译、自定义词典等等。“可定制”也意味着不是开箱即用，需要配置。刚安装之后几乎只是一个空盒子，需要自己去添加配置各种功能。
</p>

<p>
Goldendict 项目地址：<a href="https://github.com/goldendict/goldendict" target="_blank">https://github.com/goldendict/goldendict</a>. 参考手册在“wiki”里边。
</p>
</div>
</div>

<div id="outline-container-org26c9343" class="outline-2">
<h2 id="org26c9343">安装</h2>
<div class="outline-text-2" id="text-org26c9343">
<p>
在 Arch Linux 中通过包管理器安装：
</p>
<div class="org-src-container">
<pre class="bash">yay<span class="w"> </span>-S<span class="w"> </span>goldendict-git</pre>
</div>

<p>
初始界面如下 <sup>[<a id="fnr:1.1" class="footref" href="#fn:1">1</a>]</sup> （借一张初始化的图）：
</p>


<figure id="org73a9c66">
<a href="/assets/3f987b4904ed8e802ebdae33c1ab6c31.png" target="_blank" target="_blank"><img src="/assets/3f987b4904ed8e802ebdae33c1ab6c31.png" alt="3f987b4904ed8e802ebdae33c1ab6c31.png"></a>

</figure>
</div>
</div>

<div id="outline-container-orgf67137e" class="outline-2">
<h2 id="orgf67137e">词典管理</h2>
<div class="outline-text-2" id="text-orgf67137e">
<p>
在 <code>编辑</code> - <code>词典</code> 里面的 ~词典来源可以管理词典。它有如下选项：
</p>
<ul class="org-ul">
<li><b>文件</b>，即离线词典的位置。</li>
<li><b>音频文件目录</b>，用于播放读音，后面的<a href="#org3739f7a">发音</a>章节中会用到</li>
<li><b>构词法规则库</b>，用于识别词法变换，如搜索“looked”会定位到“look”，后面<a href="#org5de46e8">构词法</a>章节中会用到</li>
<li><b>维基百科</b>，字面意义上，就是在维基百科上查词。需要魔法</li>
<li><b>网站</b>，通过 Web API 去查词</li>
<li><b>词典服务器</b>，词典服务器，我不用这个</li>
<li><b>程序</b>，通过本地的程序去查询，后面<a href="#orge0a1646">翻译</a>章节会用到</li>
</ul>

<p>
后边两个我用不到。
</p>
</div>
</div>

<div id="outline-container-org49930b1" class="outline-2">
<h2 id="org49930b1">离线词典</h2>
<div class="outline-text-2" id="text-org49930b1">
<p>
在词典管理里面的 <code>文件</code> 添加。它添加的条目是一个<b>目录</b>，提供的递归搜索，因此只需要把所有词典放到一个目录下边就能全部添加。
</p>

<p>
Goldendict 支持的词典类型很多，手册上给出如下 <sup>[<a id="fnr:2.1" class="footref" href="#fn:2">2</a>]</sup> ：
</p>

<blockquote>
<ol class="org-ol">
<li>StarDict dictionaries (<b>.ifo</b>, <b>.dict</b>, <b>.idx</b>, and <b>.syn</b> files)</li>
<li>Babylon dictionaries (<b>.bgl</b> files)</li>
<li>Dictd dictionaries (<b>.index</b>, <b>.dict</b> and <b>.dict.dz</b> files)</li>
<li>ABBYY Lingvo dictionaries (<b>.dsl</b>, <b>.dsl.dz</b>, <b>.lsd</b>) - lsd support only in mobile version</li>
<li>Lingoes dictionaries (<b>.ld2</b>) - Only in the mobile version</li>
<li>XDXF dictionaries (<b>.xdxf</b>, <b>.xdxf.dz</b>) - Desktop version build 1.0.1-210-gfb179ac and later</li>
<li>AARD dictionaries (<b>.aar</b>) - Desktop version build 1.0.1-223-g81ee55a and later</li>
<li>SDict dictionaries (<b>.dct</b>) - Desktop version build 1.0.1-223-g81ee55a and later</li>
<li>MDict dictionaries (<b>.mdd</b> and <b>.mdx</b> files) - Desktop version build 1.0.1-675-g487ba6b and later</li>
<li>Zim dictionaries (<b>.zim</b> files) - Desktop version build 1.5.0-RC-177-geb6ddfe and later. (Under Linux this feature is turned off by default. To turn it on use "qmake "CONFIG+=zim_support"" (liblzma-dev package required. Or take xz 5.05 sources from <a href="http://tukaani.org/xz/" target="_blank">http://tukaani.org/xz/</a> and compile it).)</li>
<li>EPWING dictionaries - Desktop version build 1.5.0-RC-394-g141703a and later</li>
<li>Slob dictionaries (<b>.slob</b> files) - Desktop version build 1.5.0-RC-459-g91bddcc and later. (Under Linux see remark for</li>
<li>Zim dictionaries)</li>
<li>Babylon source files (<b>.gls</b>, .gls.dz files) - Desktop version build 1.5.0-RC2-85-g473cb2b and later.</li>
</ol>
</blockquote>

<p>
可自行网上搜各种词典。之前用的是这为博主分享的词典 <sup>[<a id="fnr:3.1" class="footref" href="#fn:3">3</a>]</sup> ：
</p>
<blockquote>
<ol class="org-ol">
<li>Oxford Advanced Learner's Dictionary 8th edition(En-En)-牛津高阶词典(英英)第8版，含图片及英式发音和美式发音</li>
<li>Merriam-Webster's Collegiate 11th edition(En-En)-韦氏大学词典(英英)第11版，含图片及发音</li>
<li>Longman DOCE5-Longman Dictinary of Contemporary English 5th edition(En-En)-朗文当代第五版英英词典，含发音和图片，大部例句也带有朗读，很强悍！！！</li>
<li>Longman Pronunciation Dictionary 3rd edition(En-En)-朗文发声辞典第三版，词典中有英音、美音，并对于“多音”的词，配有prefernce poll图表，即不同的发音在不同地区、不同年龄层里所占的比例。不得不说，这个碉堡了！！！</li>
<li>Longman DOCE5 Extras(En-En)-不包含单词发音和图片，但是包含了该词汇的各种搭配，和牛津搭配词典类似</li>
<li>牛津高阶英汉双解 第四版(En-zh_CN)-英汉双解，我想这个对于国人是必不可少的吧？bgl的格式，排版很美观，无发音</li>
</ol>
</blockquote>

<p>
需要可以去原文里面找到，博主慷慨提供了提供百度网盘和 Dropbox 的分享。
</p>

<p>
我最近忘了在哪儿找到了一个项目，维护了一个词典，我的评价是：无敌。我现在就单单用这一个作为离线词典，完全足够。下载地址：<a href="https://github.com/skywind3000/ECDICT-ultimate/releases/tag/1.0.0" target="_blank">https://github.com/skywind3000/ECDICT-ultimate/releases/tag/1.0.0</a>, 我下载的是 <code>ecdict-ultimate-mdx.zip</code>.
</p>
</div>
</div>

<div id="outline-container-orgede4a25" class="outline-2">
<h2 id="orgede4a25">在线词典</h2>
<div class="outline-text-2" id="text-orgede4a25">
<p>
在词典管理里面的 <code>网站</code> 添加。下面给出一些常用的 API <sup>[<a id="fnr:1.2" class="footref" href="#fn:1">1</a>]</sup> <sup>, </sup><sup>[<a id="fnr:4.1" class="footref" href="#fn:4">4</a>]</sup>:
</p>
<div class="org-src-container">
<pre class="nil">usage: pygmentize [-l LEXER | -g] [-F FILTER[:options]] [-f FORMATTER]
                  [-O OPTION=value[,OPTION=value,...]] [-P OPTION=value]
                  [-o OUTPUTFILE] [-v] [-s] [-x] [--json]
                  [-S STYLE -f formatter | -L [WHAT ...] | -N FILENAME | -C |
                  -H NAME TYPE | -V | -h] [-a ARG]
                  [INPUTFILE]
pygmentize: error: argument -l: expected one argument</pre>
</div>

<p>
其中， <code>%GDWORD%</code> 是要搜索的词。
</p>
</div>
</div>

<div id="outline-container-org5de46e8" class="outline-2">
<h2 id="org5de46e8">构词法</h2>
<div class="outline-text-2" id="text-org5de46e8">
<p>
默认情况下，如果搜索“testing”， Goldendict 会去找词典中<b>完全匹配</b>的单词，如果词典没有收录自然找不到。而我们希望一个词典能够识别出单词的词性，让它给我们定位到“test”，这就需要构词法来完成。
</p>

<p>
前往 Goldendict 的 Source Forge ：<a href="https://sourceforge.net/projects/goldendict/files/better%20morphologies/1.0/" target="_blank">https://sourceforge.net/projects/goldendict/files/better%20morphologies/1.0/</a>, 下载 <code>en_US_1.0.zip</code> ，然后在词典管理里面的 <code>构词法规则库</code> 添加 <sup>[<a id="fnr:1.3" class="footref" href="#fn:1">1</a>]</sup> 。
</p>

<p>
它还提供了一些如近义词之类的功能。为了更好的使用，建议将它作为词典列表中的第一个，这样显示界面就会优先显示它。在词典配置中拖拽就能移动顺序。
</p>
</div>
</div>

<div id="outline-container-org7c2e5bf" class="outline-2">
<h2 id="org7c2e5bf">取词</h2>
<div class="outline-text-2" id="text-org7c2e5bf">
<p>
在 <code>编辑</code> - <code>首选项</code> 里面的 <code>屏幕取词</code> 可以对其做一些配置。
</p>
</div>
</div>

<div id="outline-container-orge0a1646" class="outline-2">
<h2 id="orge0a1646">翻译</h2>
<div class="outline-text-2" id="text-orge0a1646">
<p>
可以通过 Web API 的方式来获取平台的翻译接口，比如 Google 翻译：
</p>
<div class="org-src-container">
<pre class="nil">usage: pygmentize [-l LEXER | -g] [-F FILTER[:options]] [-f FORMATTER]
                  [-O OPTION=value[,OPTION=value,...]] [-P OPTION=value]
                  [-o OUTPUTFILE] [-v] [-s] [-x] [--json]
                  [-S STYLE -f formatter | -L [WHAT ...] | -N FILENAME | -C |
                  -H NAME TYPE | -V | -h] [-a ARG]
                  [INPUTFILE]
pygmentize: error: argument -l: expected one argument</pre>
</div>

<p>
它既可以翻译词，又可以翻译句子。
</p>

<p>
在 <code>编辑</code> - <code>首选项</code> 里面的 <code>热键</code> 开启“使用下列热键翻译剪切板中的单词”，就可以选中一句话，然后使用该热键弹出 Goldendict 的小窗口，选择翻译的字典 <sup>[<a id="fnr:1.4" class="footref" href="#fn:1">1</a>]</sup> 。这样可以非常方便的翻译句子。
</p>
</div>
</div>

<div id="outline-container-org356a38d" class="outline-2">
<h2 id="org356a38d">程序</h2>
<div class="outline-text-2" id="text-org356a38d">
<p>
程序就是通过执行本地程序，来获得其标准输出（也就出 print/echo 的内容）。给两个例子。
</p>

<p>
第一个是 Bing 翻译。在浏览器上看 Bing 翻译的 url 很简单，但是放到 Goldendict 就用不了，因为它需要加一些请求头。有一个项目：<a href="https://github.com/oldoldstone/bing-dictionary-for-goldendict" target="_blank">必应极简在线词典forGoldenDict</a>, 它写了一个爬虫去请求。安装好后通过 <code>python bingdict.py word</code> 来获得结果。因此可以在词典管理的 <code>程序</code> 中添加下面的命令来获得 Bing 翻译：
</p>
<div class="org-src-container">
<pre class="bash">python<span class="w"> </span>/path/to/bingdict.py<span class="w"> </span>%GDWORD%</pre>
</div>

<p>
第二个是使用 <a href="https://github.com/soimort/translate-shell" target="_blank">translate-shell</a> 来进行句子翻译，它提供多个翻译接口，包括 Google, Bing, Yandex. 安装好之后在 <code>程序</code> 中添加 <sup>[<a id="fnr:1.5" class="footref" href="#fn:1">1</a>]</sup> ：
</p>
<div class="org-src-container">
<pre class="bash">trans<span class="w"> </span>-e<span class="w"> </span>google<span class="w"> </span>-s<span class="w"> </span>auto<span class="w"> </span>-t<span class="w"> </span>zh-CN<span class="w"> </span>-show-original<span class="w"> </span>n<span class="w"> </span>-show-original-phonetics<span class="w"> </span>n<span class="w"> </span>-show-translation<span class="w"> </span>y<span class="w"> </span>-no-ansi<span class="w"> </span>-show-translation-phonetics<span class="w"> </span>n<span class="w"> </span>-show-prompt-message<span class="w"> </span>n<span class="w"> </span>-show-languages<span class="w"> </span>n<span class="w"> </span>-show-original-dictionary<span class="w"> </span>n<span class="w"> </span>-show-dictionary<span class="w"> </span>n<span class="w"> </span>-show-alternatives<span class="w"> </span>n<span class="w"> </span>%GDWORD%</pre>
</div>
</div>
</div>

<div id="outline-container-org3739f7a" class="outline-2">
<h2 id="org3739f7a">发音</h2>
<div class="outline-text-2" id="text-org3739f7a">
<p>
在词库管理 <code>音频</code> 中可以添加音频文件的目录，一般它是与词典绑定的。比如你下了前面提到的牛津高阶词典(英英)第8版，那么把解压后的目录添加即可。
</p>

<p>
在 <code>首选项</code> 中可以设置发音的后端。
</p>
</div>
</div>

<div id="outline-container-org7e38830" class="outline-2">
<h2 id="org7e38830">遇到的问题</h2>
<div class="outline-text-2" id="text-org7e38830">
<p>
Goldendict 用到 qt5-webkit ，直接用 yay 安装会死活编译不了，一直报错；而且还贼慢。
</p>

<p>
去网上找资料，看到有人说已经废弃了，要通过指定 archlinux 的包的地址来安装<sup>[<a id="fnr:5.1" class="footref" href="#fn:5">5</a>]</sup>：
</p>

<div class="org-src-container">
<pre class="bash">sudo<span class="w"> </span>pacman<span class="w"> </span>-U<span class="w"> </span>https://archive.archlinux.org/packages/q/qt5-webkit/qt5-webkit-5.212.0alpha4-18-x86_64.pkg.tar.zst</pre>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="text-footnotes" role="doc-endnotes">
<ol>
<li id="fn:1">
<p class="footpara">
<a href="https://www.cnblogs.com/keatonlao/p/12702571.html" target="_blank">安装使用 GoldenDict 查词神器 (Windows/Mac/Linux) - keatonlao - 博客园</a>
<a href="#fnr:1.1" class="footnote-backref" role="doc-backlink">↩︎</a>
<a href="#fnr:1.2" class="footnote-backref" role="doc-backlink">↩︎</a>
<a href="#fnr:1.3" class="footnote-backref" role="doc-backlink">↩︎</a>
<a href="#fnr:1.4" class="footnote-backref" role="doc-backlink">↩︎</a>
<a href="#fnr:1.5" class="footnote-backref" role="doc-backlink">↩︎</a>
</p>
</li>
<li id="fn:2">
<p class="footpara">
<a href="https://github.com/goldendict/goldendict/wiki/Supported-Dictionary-Formats" target="_blank">Supported Dictionary Formats · goldendict/goldendict Wiki · GitHub</a>
<a href="#fnr:2.1" class="footnote-backref" role="doc-backlink">↩︎</a>
</p>
</li>
<li id="fn:3">
<p class="footpara">
<a href="https://blog.yuanbin.me/posts/2013-01/2013-01-31_23-07-00/" target="_blank">goldendict下优质词典简介及安装 - 东海一叶</a>
<a href="#fnr:3.1" class="footnote-backref" role="doc-backlink">↩︎</a>
</p>
</li>
<li id="fn:4">
<p class="footpara">
<a href="https://zhuanlan.zhihu.com/p/151810213" target="_blank">GoldenDict 中设置在线词典 - 知乎</a>
<a href="#fnr:4.1" class="footnote-backref" role="doc-backlink">↩︎</a>
</p>
</li>
<li id="fn:5">
<p class="footpara">
<a href="https://www.reddit.com/r/archlinux/comments/zj94mv/comment/izu56tb/?utm_source=share&amp;utm_medium=web3x&amp;utm_name=web3xcss&amp;utm_term=1&amp;utm_content=share_button" target="_blank">qt5-webkit taking too long to compile : r/archlinux</a>
<a href="#fnr:5.1" class="footnote-backref" role="doc-backlink">↩︎</a>
</p>
</li>
</ol>
</div>
</div>
</div>
<div id="postamble" class="status">
</div>
</div>
</div>
<div id="footer">
<center> The End </center></div>
</body>
</html>
